<!DOCTYPE html>
<html lang="de">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Indikator</title>

    <style type="text/css">
      a {
        text-decoration: none;
        color: inherit;
      }

      #container .highcharts-container {
        margin: 0 auto;
      }
    </style>

    <link href="assets/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css">   
    <link href="assets/css/indikatoren-filter.css" media="screen" rel="stylesheet" type="text/css">    
    <script src="assets/js/jquery-1.11.3.min.js" type="text/javascript"></script>
    <!--script src="assets/js/filter-2.1.0.js" type="text/javascript"></script-->    
    <script src="assets/js/url-min.js" type="text/javascript"></script>  
    <script src="assets/js/highcharts-4.2.6.min.js" type="text/javascript"></script>
    <script src="assets/js/highcharts-data-4.2.6.min.js" type="text/javascript"></script>
    <script src="assets/js/highcharts-exporting-4.2.6.min.js" type="text/javascript"></script>
    <script src="assets/js/highcharts-export-csv-1.4.2.js" type="text/javascript"></script>
    <script src="metadata/all/indikatoren.js" type="text/javascript"></script>
    <script src="assets/js/indikatoren-highcharts.js" type="text/javascript"></script>


  </head>

  <body style="margin: 0;">    
    <script type="text/javascript">   
        //todo: do not use json database but single-chart json files
        //------------------------//
        var id = '4128';
        var template = 'line001';
        var options = 'options001';        
        //------------------------//
        
        //create div for chart
        $('<div/>', {
          id: 'container-' + id,
        }).appendTo('body');
              
        var chartOptions = {};
        
        var optionsUrl = 'charts/templates/' + options +'.js';
        var templateUrl = 'charts/templates/' + template + '.js';
        var chartUrl = 'charts/templates/' + id + '.js';
        var metadataUrl = 'metadata/single/' + id + '.js'
        var csvUrl = 'data/' + id + '.tsv';
        
        $.when(
          //load metadata to indikatoren[0]
          $.getScript(metadataUrl)
        ).done(function(){
          renderChartById(optionsUrl, templateUrl, chartUrl, csvUrl, id, indikatoren[0]);      
        });
    </script>
  </body>
</html>
